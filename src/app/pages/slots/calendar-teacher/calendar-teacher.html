<ejs-schedule
    #scheduleRef
    width="100%"
    height="700px"
    [eventSettings]="eventSettings()"
    [startHour]="startHour"
    [endHour]="endHour"
    [timeScale]="timeScale"
    [allowDragAndDrop]="true"
    [views]="['Day', 'Week', 'Month']"
    [allowResizing]="true"
    currentView="Week"
    (dragStart)="onDragStart($event)"
    (dragStop)="onDragStop($event)"
    (resizeStart)="onResizeStart($event)"
    (resizeStop)="onResizeStop($event)"
    (cellClick)="onCellClick($event)"
    (popupOpen)="onPopupOpen($event)"
    (eventClick)="clickEvent($event)"
    (eventRendered)="applyBgColor($event)"
    (dataBound)="onDataBound($event)"
    (navigating)="onNavigating($event)"
    (actionComplete)="onActionComplete($event)"
>
    <ng-template #eventSettingsTemplate let-data>
        @let slot = data.ExtendedProps?.['slot'];
        <div class="template-wrap" class="h-full w-full">
            <div class="subject"></div>
            <div class="time">Creneau : {{ slot?.dateFrom | date:'shortTime' }} - {{ slot?.dateTo | date:'shortTime' }}</div>
        </div>
    </ng-template>
</ejs-schedule>

@if(visibleCreateSlotModal()) {
<bp-modal-create-slot [(visible)]="visibleCreateSlotModal" [event]="selectedDate" (submitClicked)="handleEvent($event)" (cancelClicked)="cancel()"></bp-modal-create-slot>
}
